# Защита веб-панели Caddy от DDoS-атак

## Что было настроено:

1. Порты 80 и 443 уже были включены в список защищаемых портов
2. Добавлены дополнительные чувствительные URL-адреса для защиты:
   - /cpanel
   - /webmail
   - /whm
   - /caddy
3. Увеличены пороговые значения для избежания ложных срабатываний:
   - Максимальные запросы в секунду: 10 → 25
   - Порог рейт-лимита: 100 → 200 запросов в минуту

## Как работает защита:

1. Система отслеживает количество запросов к защищаемым портам (80, 443)
2. При обнаружении аномального количества запросов с одного IP:
   - Регистрируется предупреждение о флуд-атаке
   - IP-адрес автоматически блокируется через iptables
3. Защита также отслеживает подозрительные URL-адреса и юзер-агенты

## Рекомендации:

1. Регулярно проверяйте логи: /var/log/astracat_guard.log
2. Мониторьте заблокированные IP в iptables
3. При необходимости корректируйте пороговые значения в config.yaml

## Проверка работы:

Сервис работает и активно защищает вашу систему:
`systemctl status astracat-guard`

Пример из логов: "Connection flooding detected from [IP]" → "Blocked IP: [IP]"